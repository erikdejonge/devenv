# coding=utf-8
"""
Project dev env

Usage:
  $new_python_file [options] <projectname> <filename>

Options:
  -h --help     Show this screen.

author  : rabshakeh (erik@a8.nl)
project : $dev env
created : 26 Apr 2016 / 04:Apr
"""
from __future__ import print_function

import sys
import time

from sh import whoami
from arguments import Arguments
from consoleprinter import console

if sys.version_info.major < 3:
    console("Python 3 is required", color="red", plaintext="True")
    exit(1)


class IArguments(Arguments):
    """
    IArguments
    """
    def __init__(self, doc):
        """
        __init__
        """
        self.help = False
        self.projectnaam = ""
        self.filenaam = ""
        super().__init__(doc)


def main():
    """
    main
    """
    arguments = IArguments(__doc__)
    console(arguments)
    templ = """# coding=utf-8
\"\"\"
Project {PROJECT_NAME}

Usage:
  {NAME} [options] <input>

Options:
  -h --help     Show this screen.

author  : {USER} (erik@a8.nl)
project : {PROJECT_NAME}
created : {DATE} / {TIME}
\"\"\"
import sys

from arguments import Arguments
from consoleprinter import console

if sys.version_info.major < 3:
    console(\"Python 3 is required\", color=\"red\", plaintext=\"True\")
    exit(1)\n\n
class IArguments(Arguments):
    \"\"\"
    IArguments
    \"\"\"

    def __init__(self, doc):
        \"\"\"
        __init__
        \"\"\"
        self.help = False
        self.input = \"\"
        super().__init__(doc)\n\n
def main():
    \"\"\"
    main
    \"\"\"
    arguments = IArguments(__doc__)
    console(arguments)
if __name__ == \"__main__\":
    main()
"""
    project_name = arguments.projectnaam
    name = arguments.filenaam
    user = whoami().strip()
    localtime = time.localtime(time.time())
    date = time.strftime("%d %b %Y", localtime)
    time = time.strftime("%m:%h", localtime)
    templ = templ.format(PROJECT_NAME=project_name, NAME=name, USER=user, DATE=date, TIME=time)

    print(templ)


if __name__ == "__main__":
    main()


